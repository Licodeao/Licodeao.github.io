import { _ as _export_sfc, o as openBlock, c as createElementBlock, f as createStaticVNode } from "./app-5wU-U7Lk.js";
const _sfc_main = {};
const _hoisted_1 = /* @__PURE__ */ createStaticVNode('<h2 id="前言" tabindex="-1"><a class="header-anchor" href="#前言" aria-hidden="true">#</a> 前言</h2><p>由于项目需要使用Enzyme（爱彼迎开源的一个React测试类库，常与Jest等测试运行器搭配一起使用），但很不巧的是Enzyme仅仅支持React v16，而现如今通过CRA脚手架创建的React项目的版本早已稳定在v18了，所以需要对React进行降级处理。</p><h2 id="降级处理" tabindex="-1"><a class="header-anchor" href="#降级处理" aria-hidden="true">#</a> 降级处理</h2><blockquote><p>先对react、react-dom进行降级处理</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ <span class="token function">npm</span> <span class="token function">install</span> react@16.x --legacy-peer-deps react-dom@16.x --legacy-peer-deps\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>如果采用了typescript模版，也需要对@types/xxx的库进行处理；如果没有使用typescript，则不用</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ <span class="token function">npm</span> <span class="token function">install</span> @types/react@16.x --legacy-peer-deps @types/react-dom@16.x --legacy-peer-deps\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>安装Enzyme及其adapter，这里可能会出现安装失败的情况，若失败在命令后添加 <code>-f</code> 即可，强制下载</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ <span class="token function">npm</span> <span class="token function">install</span> --save-dev enzyme @types/enzyme enzyme-adapter-react-16 @types/enzyme-adapter-react-16 <span class="token parameter variable">-D</span> \n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>安装完Enzyme后，终端可能会出现黄色的警告，建议你安装以下插件</p><p>同样地，安装过程中也可能出现失败的情况，此时也可以添加 <code>-f</code> 选项进行强制下载</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code>$ <span class="token function">npm</span> <span class="token function">install</span> @babel/plugin-proposal-private-property-in-object <span class="token parameter variable">-f</span>\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h2 id="总结" tabindex="-1"><a class="header-anchor" href="#总结" aria-hidden="true">#</a> 总结</h2><p>⚠️ 都安装完了，最好删除一下node_modules，然后再install，防止与降级之前下载的依赖产生冲突</p><p>🔚 运行 <code>npm start</code> 命令后，发现网页运行正常，网页控制台以及终端都没有任何警告和报错。至此，降级成功！</p><p>😄 可以玩一玩Enzyme了～</p>', 15);
const _hoisted_16 = [
  _hoisted_1
];
function _sfc_render(_ctx, _cache) {
  return openBlock(), createElementBlock("div", null, _hoisted_16);
}
const reduceReactVersion_html = /* @__PURE__ */ _export_sfc(_sfc_main, [["render", _sfc_render], ["__file", "reduce-react-version.html.vue"]]);
export {
  reduceReactVersion_html as default
};
